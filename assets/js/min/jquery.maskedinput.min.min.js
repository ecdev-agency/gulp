"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(jQuery)}(function(j){var a,e=navigator.userAgent,A=/iphone/i.test(e),R=/chrome/i.test(e),T=/android/i.test(e);j.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},j.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,p){var n,b,v,y,k,S,x;if(!t&&0<this.length){var e=j(this[0]).data(j.mask.dataName);return e?e():void 0}return p=j.extend({autoclear:j.mask.autoclear,placeholder:j.mask.placeholder,completed:null},p),n=j.mask.definitions,b=[],v=S=t.length,y=null,t=String(t),j.each(t.split(""),function(e,t){"?"==t?(S--,v=e):n[t]?(b.push(new RegExp(n[t])),null===y&&(y=b.length-1),e<v&&(k=b.length-1)):b.push(null)}),this.trigger("unmask").each(function(){var o=j(this),c=j.map(t.split(""),function(e,t){if("?"!=e)return n[e]?f(t):e}),u=c.join(""),r=o.val();function l(){if(p.completed){for(var e=y;e<=k;e++)if(b[e]&&c[e]===f(e))return;p.completed.call(o)}}function f(e){return e<p.placeholder.length?p.placeholder.charAt(e):p.placeholder.charAt(0)}function s(e){for(;++e<S&&!b[e];);return e}function h(e,t){var n,a;if(!(e<0)){for(n=e,a=s(t);n<S;n++)if(b[n]){if(!(a<S&&b[n].test(c[a])))break;c[n]=c[a],c[a]=f(a),a=s(a)}g(),o.caret(Math.max(y,e))}}function i(e){d(),o.val()!=r&&o.change()}function m(e,t){for(var n=e;n<t&&n<S;n++)b[n]&&(c[n]=f(n))}function g(){o.val(c.join(""))}function d(e){for(var t,n,a=o.val(),r=-1,i=t=0;t<S;t++)if(b[t]){for(c[t]=f(t);i++<a.length;)if(n=a.charAt(i-1),b[t].test(n)){c[t]=n,r=t;break}if(i>a.length){m(t+1,S);break}}else c[t]===a.charAt(i)&&i++,t<v&&(r=t);return e?g():r+1<v?p.autoclear||c.join("")===u?(o.val()&&o.val(""),m(0,S)):g():(g(),o.val(o.val().substring(0,r+1))),v?t:y}o.data(j.mask.dataName,function(){return j.map(c,function(e,t){return b[t]&&e!=f(t)?e:null}).join("")}),o.one("unmask",function(){o.off(".mask").removeData(j.mask.dataName)}).on("focus.mask",function(){var e;o.prop("readonly")||(clearTimeout(a),r=o.val(),e=d(),a=setTimeout(function(){o.get(0)===document.activeElement&&(g(),e==t.replace("?","").length?o.caret(0,e):o.caret(e))},10))}).on("blur.mask",i).on("keydown.mask",function(e){var t,n,a;o.prop("readonly")||(a=e.which||e.keyCode,x=o.val(),8===a||46===a||A&&127===a?(t=(n=o.caret()).begin,(n=n.end)-t==0&&(t=46!==a?function(e){for(;0<=--e&&!b[e];);return e}(t):n=s(t-1),n=46===a?s(n):n),m(t,n),h(t,n-1),e.preventDefault()):13===a?i.call(this,e):27===a&&(o.val(r),o.caret(0,d()),e.preventDefault()))}).on("keypress.mask",function(e){var r,t,n,a,i;o.prop("readonly")||(a=e.which||e.keyCode,i=o.caret(),e.ctrlKey||e.altKey||e.metaKey||a<32||!a||13===a||(i.end-i.begin!=0&&(m(i.begin,i.end),h(i.begin,i.end-1)),(r=s(i.begin-1))<S&&(t=String.fromCharCode(a),b[r].test(t))&&(function(){for(var e,t,n,a=f(e=r);e<S;e++)if(b[e]){if(t=s(e),n=c[e],c[e]=a,!(t<S&&b[t].test(n)))break;a=n}}(),c[r]=t,g(),n=s(r),T?setTimeout(function(){j.proxy(j.fn.caret,o,n)()},0):o.caret(n),i.begin<=k&&l()),e.preventDefault()))}).on("input.mask paste.mask",function(){o.prop("readonly")||setTimeout(function(){var e=d(!0);o.caret(e),l()},0)}),R&&T&&o.off("input.mask").on("input.mask",function(e){var t=o.val(),n=o.caret();if(x&&x.length&&x.length>t.length){for(d(!0);0<n.begin&&!b[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<y&&!b[n.begin];)n.begin++;o.caret(n.begin,n.begin)}else{d(!0);t=t.charAt(n.begin);n.begin<S&&(b[n.begin]||n.begin++,b[n.begin].test(t)&&n.begin++),o.caret(n.begin,n.begin)}l()}),d()})}})});
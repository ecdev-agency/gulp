"use strict";jQuery(document).ready(function(_){var a=".zipcode_form",g=_(a),w=g.find("input.zip_code"),t="",e=w.parents(".form-fields"),C=g.find(".location-info"),y=_("body");function o(){_('[data-update="county_name"]').each(function(){var a=_(this),t=a.data("default");t&&a.text(t)}),_(".tab-unit-col-price [data-price-unit]").each(function(){var a=_(this),t=a.attr("data-price-start");t&&a.text(t)}),_(".tab-unit-col-label[data-unit-label]").each(function(){var a=_(this),t=ths.data("unit-label");t&&a.text(t)}),_(".tab-unit-col-label").removeClass("label-blank")}function n(a){a.hasOwnProperty("city")&&a.city&&a.hasOwnProperty("state")&&a.state&&a.hasOwnProperty("zip_code")&&a.zip_code?w.val()||a&&(t=a.zip_code,C.text(a.city+" ("+a.state+")").removeClass("preload-values-d").addClass("show"),w.val(t).trigger("change"),w.attr("placeholder",w.attr("data-placeholder")),e.removeClass("preload-values")):C.text("Undefined").removeClass("preload-values-d")}_(document).on("submit",a,function(a){return w.hasClass("valid")||w.trigger("change"),a.preventDefault(),!1}),w.on("focus",function(a){"focus"===a.type&&_(this).select()}),w.on("input change  blur",function(a){a.preventDefault(),t=_(this).val();var p=_(this),m=p.closest("form"),v=m.closest("button"),f=m.find(".validation-message"),h=_(".loan-limits-popup");if("blur"!=a.type){if(m.removeClass("valid_msg_shown"),h.removeClass("shown"),y.removeClass("loan_limits_popup_shown"),"input"!=a.type){if(t.length&&t.length<5)return m.addClass("valid_msg_shown"),o(),!1;if(""==this.value)return o(),!1;p.removeClass("valid").addClass("processing");a=sm_get_us_user_zip();return a&&a.zip==t||C.addClass("preload-values-d"),v.attr("disabled","disabled"),_.post(sm_obj.ajaxurl,{action:"loan_limits_get",nonce:sm_obj.nonce,zip:t},function(a){var t,e=!0;if(p.removeClass("processing"),v.removeAttr("disabled"),(t=g.find(".validation-message")).text(t.attr("data-default")),a.hasOwnProperty("geolocation")?(C.show().addClass("show"),C.text(a.geolocation.city+" ("+a.geolocation.statecode+")")):(e=!1,f.text(loanlimit_vars.validation_messages.zipcode_not_found),C.removeClass("show").hide()),C.removeClass("preload-values-d"),0==e&&m.addClass("valid_msg_shown"),_(".price_none").removeClass("price_none"),a.hasOwnProperty("year")&&a.year&&_('[data-update="current_year"]').text(a.year),a.hasOwnProperty("county_name")&&a.county_name?(_('[data-update="county_name"]').text(a.county_name+" "+loanlimit_vars.county_label),p.addClass("valid"),a.state_code&&-1!==jQuery.inArray(a.state_code,geolocation_vars.location_config.available_states)&&(h.addClass("shown"),y.addClass("loan_limits_popup_shown")),setTimeout(function(){_(window).trigger("resize")},1e3)):(_('[data-update="county_name"]').text(""),_('[data-update="current_year"]').text("")),a.hasOwnProperty("conforming")&&a.conforming)for(var o in a.conforming){var n=a.conforming[o]?parseInt(a.conforming[o]).toLocaleString("en"):"",s=_('[data-price-type="conforming"][data-price-unit="'+o+'"]'),i=_('[data-type="conforming"][data-unit="'+o+'"][data-standart-value]');n?(n!=i.attr("data-standart-value")?i.removeClass("hide"):i.addClass("hide"),s.text(n)):e=!1}if(a.hasOwnProperty("standart")&&a.standart)for(var o in a.conforming){var r=a.conforming[o]?parseInt(a.conforming[o]).toLocaleString("en"):"",l=_('[data-price-type="conforming"][data-price-unit="'+o+'"]');r?l.text(r):e=!1}if(a.hasOwnProperty("fha")&&a.fha)for(var o in a.fha){var d=a.fha[o]?parseInt(a.fha[o]).toLocaleString("en"):"",c=_('[data-price-type="fha"][data-price-unit="'+o+'"]'),u=_('[data-type="fha"][data-unit="'+o+'"][data-standart-value]');d?(d!=u.attr("data-standart-value")?u.removeClass("hide"):u.addClass("hide"),c.text(d)):e=!1}w.parents(".form-fields").removeClass("preload-values")},"json"),!1}t.length<5&&p.removeClass("valid")}else""==this.value&&window.history.replaceState&&(window.location.search&&window.history.replaceState({},"",window.location.origin+window.location.pathname),m.removeClass("valid_msg_shown"),h.removeClass("shown"),y.removeClass("loan_limits_popup_shown"))}),g.find("button").on("click",function(a){var t=_(this).closest("form"),e=t.find("input[name=zip]");if(!e.val())return t.addClass("valid_msg_shown"),e.focus(),a.preventDefault(),!1}),_(document).on("geolocation_received",function(a,t){n(t)}),0==sm_user_geo_loading&&(C.addClass("preload-values-d"),e.addClass("preload-values"),getCookie("geolocation")&&n(sm_get_user_geolocation())),sm_get_user_geolocation(),_(document).on("click",".tabs-unit .tab-unit",function(a){a.preventDefault();var t=_(this),a=t.data("num");return _(".tab-unit-active").removeClass("tab-unit-active"),t.addClass("tab-unit-active"),t.parents(".tab-unit-wrap").addClass("tab-unit-active"),_(".tab-unit-col[data-num="+a+"]").addClass("tab-unit-col-active").siblings().removeClass("tab-unit-col-active"),window.innerWidth<=767&&t.closest(".tabs-unit").toggleClass("shown"),!1}),_(".loan-limits-popup .close-icon").on("click",function(a){return a.preventDefault(),_(this).closest(".loan-limits-popup").toggleClass("shown"),y.removeClass("loan_limits_popup_shown"),!1});_(".get_started_section"),_(".loan-limits-popup-wrap"),_(".loan-limits-popup").outerHeight(),null!=_("#wpadminbar")&&_("#wpadminbar").outerHeight();_(window).on("load resize",function(a){767<window.innerWidth&&_(".tabs-unit").removeClass("shown")})});
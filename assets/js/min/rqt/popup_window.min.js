"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function popup_close(e){e=$("#"+e.attr("id"));e&&(e.toggleClass("show"),e.hasClass("show"),$("body").toggleClass("modal-overflow"))}function popup_after_show(t){$(document).on("mousedown",function(e){jQuery(e.target).closest(".rqt-modal").length||$(".rqt-modal").hasClass("show")&&popup_close(t)})}function popup_scroll_init(e){$(e).niceScroll({cursorcolor:"rgba(100, 100, 100,.2)",autohidemode:!0,bouncescroll:!0,cursorwidth:"4px",cursorborder:"0",grabcursorenabled:!1,horizrailenabled:!1,touchbehavior:!0,preventmultitouchscrolling:!1,cursordragontouch:!0,railpadding:{top:2,right:2,left:0,bottom:0}})}function popup_get_content(e,t,a){var o=a.find(".modal-content");$.get(rqt_vars._rqt_router,{referrer:"wp",action:"get_popup",value:e,params:t},function(e){o.html($.base64.decode(e)),popup_after_content_load(a)}).done(function(){}).fail(function(){$("body").toggleClass("modal-overflow loading"),alert("Sorry, data not loaded. Please repeat this request.")}).always(function(){})}function popup_after_content_load(e){$("body").toggleClass("loading"),e.toggleClass("show"),$(e).scrollTop(0),$(".phone-validate").mask("(999) 999-9999",{showMaskOnFocus:!0,showMaskOnHover:!1,autoUnmask:!0,clearMaskOnLostFocus:!0}),popup_scroll_init(e)}0==$(".rqt-modal").length&&$('   \x3c!-- RQT custom popup window --\x3e\n    <div class="rqt-modal" id="rqt_popup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"\n         aria-hidden="true">\n        <div class="modal-dialog" role="document">\n            <div class="modal-content" id="rqt_popup_content">\n            </div>\n               <div class="form-err-msg"></div>\n        </div>\n    </div>\n\x3c!-- @endof - RQT custom popup window --\x3e').insertBefore("body > header"),$(document).on("click",".rqt-modal .modal-close",function(e){popup_close($(this).parents(".rqt-modal"))}),$(document).on("submit",".rate_tracker__fancybox form",function(e){e.preventDefault();var o=$(this),t=o,a=t.find(".modal-content"),r=o.attr("action"),e=(o.attr("method")&&o.attr("method"),new FormData(o[0]));r?(e.append("action","popup_form_submit"),e.append("value",r),e.append("referrer","wp"),t.addClass("loading"),$.ajax({url:rqt_vars._rqt_router,type:"POST",data:e,contentType:!1,processData:!1,success:function(e){console.dir(e),o.find(".mdl-js-textfield .is-invalid").removeClass("is-invalid"),void 0!==e.errors?"string"==typeof e.errors?($(".form-validation-message").length?$(".form-validation-message .label").text(e.errors):$('<span class="form-validation-message mdl-cell mdl-list__item-secondary-content"><span class="label">'+e.errors+"</span></span>").insertBefore(o),$(t).scrollTop(0)):(o.find(".form-err-msg").remove(),$.each(e.errors,function(e,t){var a=o.find('input[name="'+e+'"]').parent(),e=Object.keys(t)[0];void 0!==t.group_message?(a.parent().addClass("is-invalid"),$('<div class="form-err-msg">'+t[e]+"</div>").insertAfter(a.parent())):(a.addClass("is-invalid"),$('<div class="form-err-msg">'+t[e]+"</div>").insertAfter(a))}),$(document).on("keypress change",".rqt-modal.show input",function(e){$(this).parents("form");$(this).parents(".mdl-js-textfield").removeClass("is-invalid"),$(this).parent().next(".form-err-msg").remove(),$(this).parent().parent().removeClass("is-invalid"),$(this).parent().parent().next(".form-err-msg").remove()})):(a.html($.base64.decode(e)),$(".rateTrackerContent").addClass("hide"),$(".rateTrackerMessage").addClass("show"))}}).fail(function(){alert("Sorry, data not loaded. Please repeat this request.")}).always(function(){t.removeClass("loading")})):alert("This form not have default action")}),$(document).on("click","[data-modal]:not(:disabled):not(.btn-disabled)",function(e){var t,a,o,r,n,s=$(this).attr("data-modal-id"),i=$("#header").outerHeight()+20,d=void 0!==$(this).attr("data-params")&&0<$(this).attr("data-params").length?$(this).attr("data-params"):"",c=void 0!==$(this).attr("data-action")&&0<$(this).attr("data-action").length?$(this).attr("data-action"):"";void 0!==s&&s.length&&((t=$(".rqt-modal").attr("id",s)).css("height",""),t.css("left",""),a=parseInt(t.css("height")),o=parseInt(t.css("width")),parseInt(t.css("maxHeight")),parseInt(t.css("maxWidth")),r=$(window).outerHeight()-30,n=$(window).outerHeight()-75,$(window).outerHeight()),t&&null!=t&&(20<window.innerWidth-30-o?t.css("left",""):t.css("left","15px"),window.innerWidth<=820?(t.css("top","15px"),t.css("height",r)):a<n?(t.css("top",i),t.css("height",a+" !important")):(t.css("top","45px"),t.css("height",n)),null!=c&&popup_get_content(c,d,t),$("body").toggleClass("modal-overflow loading"),popup_after_show(t),e.preventDefault())}),$(window).resize(function(){var e,t,a,o,r=$(".rqt-modal").hasClass("show")?$(".rqt-modal.show"):null,n=$("#header").outerHeight()+20;null!=r&&(e=parseInt(r.css("height")),t=parseInt(r.css("width")),parseInt(r.css("maxHeight")),parseInt(r.css("maxWidth")),a=$(window).outerHeight()-30,o=$(window).outerHeight()-75,$(window).outerHeight(),20<window.innerWidth-30-t?r.css("left",""):r.css("left","15px"),window.innerWidth<=820?(r.css("top","15px"),r.css("height",a)):(r.css("height",""),e<o?(r.css("top",n),r.css("height",e+" !important")):(r.css("top","45px"),r.css("height",o)),popup_scroll_init(r)))}),jQuery(document).ready(function(p){function e(){var e;p('[data-fancybox="rate-tracker"]').fancybox((_defineProperty(e={loop:!1,toolbar:!1,infobar:!1},"toolbar",!1),_defineProperty(e,"hash",null),_defineProperty(e,"slideShow",!1),_defineProperty(e,"modal",!1),_defineProperty(e,"arrows",!1),_defineProperty(e,"touch",!1),_defineProperty(e,"baseTpl",'<div class="fancybox-container rate_tracker__fancybox" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-stage"></div></div></div>'),_defineProperty(e,"afterShow",function(e,t){p('.rate_tracker__fancybox [name="first_name"]').focus();var a=p('input[name="zip_code"]').val(),o=p('[name="loan_purpose_trigger"]:checked + label').text(),r=p('select[name="credit_score"]').val(),n=p('select[name="property_type"] option:selected').text(),s=p('select[name="occupancy"] option:selected').text(),i=p('input[name="purchase_price"]').val(),d=p('input[name="down_payment_amt"]').val(),c=p('[name="loan_type"]').val(),l=p('input[name="down_payment_pct"]').val();p("[data-tracker-zip-code]").addClass("done").text(a),p("[data-tracker-loan-purpose]").addClass("done").text(o),p("[data-tracker-credit-score]").addClass("done").text(r),p("[data-tracker-property-type]").addClass("done").text(n),p("[data-tracker-occupancy]").addClass("done").text(s),p("[data-tracker-purchase-price]").addClass("done").text(i),p("[data-tracker-loan-type]").addClass("done").val(c),p("[data-tracker-down-payment]").addClass("done").text(d+"  |  "+l);new FloatLabels(".rate_tracker__fancybox form",{});p(".fancybox-slide").on("scroll",function(){var e=p(".rate_tracker__header_sticky"),t=p(".rate_tracker__header");p(".fancybox-slide");0<Number(e.offset().top-p(".fancybox-slide").offset().top)?t.removeClass("sticky"):t.addClass("sticky")}),p(".track_rates_form_validate").validate({errorElement:"span",wrapper:"div",errorPlacement:function(e,t){e.appendTo(t.parent())},success:function(e){}})}),_defineProperty(e,"beforeShow",function(e,t){p(".rate_tracker__header").removeClass("sticky"),p(".rateTrackerContent").removeClass("hide"),p(".rateTrackerMessage").removeClass("show")}),e))}e(),p(document.body).on("updated_rates",function(){e()}),p(".rate_tracker__hours").select2({minimumResultsForSearch:-1,dropdownParent:"#rate_tracker"});tippy("[data-tippy-back]",{appendTo:function(){return document.querySelector("#rate_tracker")},content:"Back",placement:"bottom",offset:function(e){return[0,4]}}),tippy("[data-tippy-submit]",{appendTo:function(){return document.querySelector(".fancybox-slide")},maxWidth:220,content:"Subscribe to the offers exclusively made for you",placement:"top",followCursor:!0});p(document).on("click",".ModalTermsConditions",function(e){p(".rate_tracker__header").removeClass("sticky");var t=p(this).data("type");p(".rate_tracker__fancybox").addClass("policy_active"),p(".rate_tracker__policy").addClass(t),e.preventDefault()}),p(document).on("click",".hideTermsContent",function(e){p(".rate_tracker__header").removeClass("sticky"),p(".rate_tracker__fancybox").removeClass("policy_active"),p(".rate_tracker__policy").removeClass("terms").removeClass("policy"),e.preventDefault()}),p(document).on("keypress change",".rate_tracker__fancybox input",function(e){p(this).parent().next(".form-err-msg").remove(),p(this).parent().parent().next(".form-err-msg").remove()}),p(".phone-validate").mask("(999) 999-9999",{showMaskOnFocus:!0,showMaskOnHover:!1,autoUnmask:!0,clearMaskOnLostFocus:!0}).on("click",function(){"(___) ___-____"===p(this).val()&&p(this).get(0).setSelectionRange(1,1)})});